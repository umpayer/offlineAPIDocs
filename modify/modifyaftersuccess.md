# 入网成功后信息修改

**简要描述：** 

- 商户入网成功状态下，商户可以调用此接口对入网的商户信息进行修改
- 此接口支持多次调用，调用成功之后即修改生效。
- 同时修改多条信息，可能出现部分成功部分失败情况，如果存在失败，则返回码为失败返回码，具体失败信息可通过响应中【详细描述】得知。
- 关于微信支付宝费率变更，暂时只支持入网开通产品后调用此接口进行费率修改功能，不支持入网未开通调用此接口开通并报备场景。
- 针对费率信息修改，需要以业务维度同时传入费率字段，详情见【注意事项】

**请求URL：** 

- 服务商->联动优势
  `{交易服务根地址}/merchants/modifyAfterSuccess

**请求方式：**

- POST 

**请求参数：** 

|   字段    |       名称       | 长度 | 必填 | 说明                                                         |
| :-------: | :--------------: | :--: | :--: | :----------------------------------------------------------- |
|  acqSpId  |    服务商编号    |  10  |  M   | 服务商编号(联动平台分配)                                     |
| acqMerId  |     商户编号     |  8   |  M   | 商户编号（联动平台分配，通过商户信息查询口获取）             |
|   rate    |    手续费费率    |      |  M   | json 格式字符串（JOSN对象，具体格式见下表）                  |
| settlePeriod |    结算周期    |   1   |  M   | 1:T1 2:D0 3:T0 4:D1 5:24小时D0                 |
|  backUrl  |   回调通知地址   | 200  |  C   | 商户入网成功回调地址                                         |
| notifyUrl | 交易结果通知地址 |      |  C   | POS交易及立牌交易结果通知配置，主被扫交易结果通知地址配置，请详见具体交易接口文档 |
| notifyUrl | 交易结果通知地址 |      |  C   | POS交易及立牌交易结果通知配置，主被扫交易结果通知地址配置，请详见具体交易接口文档 |
| rechargeFlag | 开通充值标识 |   1   |  C   | 0：不开通 1：开通  默认不开通                      |
|           |                  |      |      |                                                              |


|                             字段                             |            名称             | 长度 | 必填 | 说明                                                         |
| :----------------------------------------------------------: | :-------------------------: | :--: | :--: | :----------------------------------------------------------- |
|                        rate格式如下：                        |                             |      |      |                                                              |
|                             字段                             |            名称             | 长度 | 必填 | 说明                                                         |
|                        feeRateAlipay                         |         支付宝费率          |  13  |  C   | 费率为0.25%上送0.25                                          |
|                       feeRateWechatpay                       |          微信费率           |  13  |  C   | 费率为0.25%上送0.25                                          |
|                      bankCardRateLevel1                      |       银行卡费率一档        |      |  C   | 1000元以上费率<br/>json 格式字符串（JOSN对象，具体格式见下表） |
|                      bankCardRateLevel2                      |       银行卡费率二档        |      |  C   | 1000元以下费率<br>json 格式字符串（JOSN对象，具体格式见下表） |
|                          feeRateD0                           |         附加手续费          |  13  |  C   | D0\D1服务如收取附加手续费则进行配置，费率为0.25%上送0.25     |
|                       feeRateWithdraw                        |         提现手续费          |  13  |  C   | 单位：分                                                     |
|                    feeRateMobilePosDebit                     |   手机pos银行卡费率(借记)   |  13  |  C   | 费率为0.25%上送0.25 <br/>【手机pos银行卡费率】               |
|                    feeRateMobilePosCredit                    |   手机pos银行卡费率(贷记)   |  13  |  C   | 费率为0.25%上送0.25<br/> 【手机pos银行卡费率】               |
|                     feeRateMobilePosCap                      | 手机pos银行卡费率(借记封顶) |  13  |  C   | 借记卡封顶费率，单位：分                                     |
|                        posRateLevel1                         |     银行卡收单费率一档      |      |  C   | 1000元以上费率；<br/> NFC 1000元以上取该费率； <br/>借贷记取该费率<br/>json 格式字符串（JOSN对象，具体格式见下表） |
|                        posRateLevel2                         |     银行卡收单费率二档      |      |  C   | 1000元（含1000元）以下费率；<br/> 小额双免取该费率；<br/> NFC 1000元(含)取该费率<br/>json 格式字符串（JOSN对象，具体格式见下表） |
|                                                              |                             |      |      |                                                              |
| bankCardRateLevel1、bankCardRateLevel2、 posRateLevel1和 posRateLevel2格式如下： |                             |      |      |                                                              |
|                             字段                             |            名称             | 长度 | 必填 | 说明                                                         |
|                     feeRateUnionpayDebit                     |     银联手续费率(借记)      |  13  |  C   | 费率为0.25%上送0.25                                          |
|                   feeRateUnionpayDebitCap                    |   银联手续费率(借记封顶)    |  13  |  C   | 单位：分                                                     |
|                    feeRateUnionpayCredit                     |     银联手续费率(贷记)      |  13  |  C   | 费率为0.25%上送0.25                                          |



**返回参数说明** 

| 字段      | 名称             | 长度 | 必填                                              | 说明     |
| --------- | ---------------- | ---- | ------------------------------------------------- | -------- |
| respCode  | 返回码           | 8    | M                                                 | 返回码   |
| respMsg   | 返回信息         | 128  | M                                                 | 返回信息 |
| detailMsg | 费率配置详细描述 | 256  | C |  费率配置过程失败后<br/>返回具体失败配置的费率情况         |

**示例**

```json
【请求示例】

{
	"acqMerId": "43602617",
	"acqSpId": "Y273048756",
	"rate": {
		"feeRateWechatpay": "0.22"
	},
	"signature": "……………………"
}

【响应示例】

{
	"respCode": "00",
	"respMsg": "处理成功",
	"signature": "……………………",
	"detailMsg": "[]"
}
```



【注意事项】

1、如果修改 【银行卡费率】(银联扫码业务费率)需要同时传入【银行卡费率一档】与【银行卡费率二档】字段。

2、如果修改【银行卡收单费率】(POS业务费率)需要同时传入【银行卡收单费率一档】和【银行卡收单费率二档】字段。

3、原D0结算或24小时D0结算，如果修改D0手续费 需要同时传入【附加手续费】和【提现手续费】。

4、原D1结算，如果修改D1手续费，需要传入【附加手续费】（附加手续费可为0）。

5、如果修改mobilePos相关费率，需要同时传入【手机pos银行卡费率(借记)】，【手机pos银行卡费率(贷记)】，【手机pos银行卡费率(借记封顶)】以及基础的【银行卡收单费率一档】和【银行卡收单费率二档】字段。

6、如果无费率修改，则【手续费费率】字段传空的json对象 （格式为：{}）。

7、支持由不同结算周期之间的变更修改，如果修改结算周期为D0结算或24小时D0结算，则需要同时传入【附加手续费】和【提现手续费】。如果修改结算周期为D1结算，则需要传入【附加手续费】（附加手续费可为0）。

8、结算周期变更后，产品配置即时生效，费率信息修改次日生效，首开即时生效。



